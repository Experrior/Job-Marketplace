

no_persistent_volumes = 5
persistent_volume_size = "5Gi"



persistent_volumes {
  for (_i in IntSeq(1, no_persistent_volumes)) {
    new {
        apiVersion= "v1"
        kind= "PersistentVolume"
        metadata {name= "pv"+_i.toString()}

        spec {capacity {storage = persistent_volume_size }
        accessModes= "ReadWriteOnce"
        persistentVolumeReclaimPolicy= "Delete"
        storageClassName= "standard"
        hostPath  {path= "/home/mateusz/Desktop/ZPI/k8s_volumes/"+persistent_volume_size}
            }
        }
    }
}